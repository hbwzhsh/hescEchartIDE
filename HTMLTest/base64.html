<!--
 * Created by WebStorm
 * User:maomao,http://www.mmcode.top
 * Date:2017/4/26
 * Time:8:35
 -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../js/base64.min.js"></script>
    <script src="../js/fileReader.js"></script>
    <script src="../js/jsoneditor.js"></script>
    <script src="../js/jquery.js"></script>
</head>
<body>
Load a JSON document: <input type="file" id="loadDocument" value="Load" />
<p>
    Save a JSON document: <input type="button" id="saveDocument" value ="Save" />
</p>

<div id="jsoneditor"></div>
<script>
//    console.log(Base64.encode('http://localhost:63342/hescEchartIDE/css/img/fruiticons_buttons_strawberry.png'))
//
//    var img = "http://localhost:63342/hescEchartIDE/css/img/111.png";
//    function getBase64Image(img) {
//        var canvas = document.createElement("canvas");
//        canvas.width = img.width;
//        canvas.height = img.height;
//        var ctx = canvas.getContext("2d");
//        ctx.drawImage(img, 0, 0, img.width, img.height);
//        var ext = img.src.substring(img.src.lastIndexOf(".")+1).toLowerCase();
//        var dataURL = canvas.toDataURL("image/"+ext);
//        return dataURL;
//    }
//    function change() {
//            console.log($('#loadDocument').value)
//            var image = new Image();
//            image.src = img;
//            image.onload = function(){
//                var base64 = getBase64Image(image);
//                console.log(base64);
//            }
//
//    }

    FileReaderJS.setupInput(document.getElementById('loadDocument'), {
        on: {
            load: function (event, file) {
//                editor.setText(event.target.result);
                console.log(event.target.result)
            }
        }
//        readAsDefault: 'Text',
//        on: {
//            load: function (event, file) {
//                editor.setText(event.target.result);
//            }
//        }
    });


//    // create the editor
//    var editor = new JSONEditor(document.getElementById('jsoneditor'));
//    // Load a JSON document
//    FileReaderJS.setupInput(document.getElementById('loadDocument'), {
//        readAsDefault: 'Text',
//        on: {
//            load: function (event, file) {
//                console.log(event.target.result);
//                editor.setText(event.target.result);
//            }
//        }
//    });



</script>
</body>
</html>